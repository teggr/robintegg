<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Testing Spring Boot applications with TestContainers | Robin Tegg</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Testing Spring Boot applications with TestContainers" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This is the first of a short series of posts showing how the TestContainers project can be leveraged to help test a Spring Boot application in a variety of ways." />
<meta property="og:description" content="This is the first of a short series of posts showing how the TestContainers project can be leveraged to help test a Spring Boot application in a variety of ways." />
<link rel="canonical" href="https://teggr.github.io/robintegg/2019/02/09/testing-spring-boot-applications-with-testcontainers.html" />
<meta property="og:url" content="https://teggr.github.io/robintegg/2019/02/09/testing-spring-boot-applications-with-testcontainers.html" />
<meta property="og:site_name" content="Robin Tegg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-02-09T00:00:00+00:00" />
<script type="application/ld+json">
{"url":"https://teggr.github.io/robintegg/2019/02/09/testing-spring-boot-applications-with-testcontainers.html","headline":"Testing Spring Boot applications with TestContainers","dateModified":"2019-02-09T00:00:00+00:00","datePublished":"2019-02-09T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://teggr.github.io/robintegg/2019/02/09/testing-spring-boot-applications-with-testcontainers.html"},"description":"This is the first of a short series of posts showing how the TestContainers project can be leveraged to help test a Spring Boot application in a variety of ways.","@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/robintegg/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://teggr.github.io/robintegg/feed.xml" title="Robin Tegg" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/robintegg/">Robin Tegg</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/robintegg/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Testing Spring Boot applications with TestContainers</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2019-02-09T00:00:00+00:00" itemprop="datePublished">Feb 9, 2019
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>This is the first of a short series of posts showing how the <a href="https://www.testcontainers.org/">TestContainers</a> project can be leveraged to help test a <a href="https://spring.io/projects/spring-boot">Spring Boot</a> application in a variety of ways.</p>

<ul>
  <li>Part One - Data access layer integration tests</li>
  <li><a href="https://robintegg.com/2019/02/12/testing-spring-boot-applications-with-testcontainers-part-two/">Part Two - Application integration tests</a></li>
  <li><a href="https://www.robintegg.com/2019/02/24/testing-spring-boot-applications-with-testcontainers-and-selenium-webdriver-part-three/">Part Three - UI Tests</a></li>
</ul>

<p>In this first part, we are going to concentrate on using the <a href="https://www.testcontainers.org/modules/databases/">TestContainers database support</a> to ensure that our <a href="https://flywaydb.org/">Flyway</a> scripts and <a href="https://spring.io/projects/spring-data-jpa">Spring Data JPA</a> configuration are integrated correctly.</p>

<h2 id="testcontainers-demo">testcontainers-demo</h2>

<p>We will be using the <a href="https://github.com/teggr/testcontainers-demo">testcontainers-demo</a> application as the System under test (SUT). The application routes notification messages from a JMS Queue to a RabbitMQ exchange, storing each notification in a Postgres database. This application also provides a web interface to see a list of all the messages that are routed by the application.</p>

<p><img src="/images/testcontainers-demo.png" alt="" /></p>

<h2 id="what-is-testcontainers">What is TestContainers?</h2>

<p>The TestContainers site perfectly describes it’s goals:</p>

<blockquote>
  <p>Testcontainers is a Java library that supports JUnit tests, providing lightweight, throwaway instances of common databases, Selenium web browsers, or anything else that can run in a Docker container.</p>
</blockquote>

<p>And the areas of testing that it can help with:</p>

<blockquote>
  <p>Testcontainers make the following kinds of tests easier</p>

  <p><strong>Data access layer integration tests</strong>: use a containerized instance of a MySQL, PostgreSQL or Oracle database to test your data access layer code for complete compatibility, but without requiring complex setup on developers’ machines and safe in the knowledge that your tests will always start with a known DB state. Any other database type that can be containerized can also be used.<br />
<strong>Application integration tests</strong>: for running your application in a short-lived test mode with dependencies, such as databases, message queues or web servers.<br />
<strong>UI/Acceptance tests</strong>: use containerized web browsers, compatible with Selenium, for conducting automated UI tests. Each test can get a fresh instance of the browser, with no browser state, plugin variations or automated browser upgrades to worry about. And you get a video recording of each test session, or just each session where tests failed.</p>
</blockquote>

<h2 id="data-access-layer-integration-tests">Data access layer integration tests</h2>

<p>As we are only looking at the data layer in this post, we can make use of the <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-tests">Spring Boot Auto-configured tests</a> feature. Our application uses the Spring Data JPA framework to store and retrieve Notifications to a Postgres database. Testing this approach is supported by the <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test">Auto-configured Data JPA tests</a>. By default the support will wire up a inmemory database and use the JPA “create-drop” functionality to apply a schema to the db for testing purposes.</p>

<p>Our application uses Flyway to manage it’s database schema. This is normally applied when the application starts up as part of the <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html">Spring Boot support for Flyway</a> scripts. By using only an inmemory database we are not validating the Flyway script or that the Flyway script and JPA annotated entities are being kept in sync.</p>

<p>The Flyway script for our project is shown below:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CREATE TABLE notification (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY,
    message varchar(255) not null,
    source varchar(255) not null
);

create sequence notification_id_sequence start with 1 increment by 1;
</code></pre></div></div>

<p>We have a corresponding Repository interface and Entity in the code as shown below:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public interface NotificationRepository extends JpaRepository&lt;Notification,Long&gt;  {}
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/**
 * Notification representing an event in the ecosystem
 */
@Entity
@Table(name = "notification")
public class Notification {
    @Id
    @SequenceGenerator(name = "notification_id_generator", sequenceName = "notification_id_sequence", allocationSize = 1)
    @GeneratedValue(generator = "notification_id_generator")
    private Long id;
    private String message;
    private String source;
</code></pre></div></div>

<p>We want to use TestContainers to start up a Postgres database, allow Spring Boot to apply the Flyway script, then test our NotificationRepository is configured correctly and can talk to a running instance of Postgres using JUnit tests.</p>

<p>We start with a plain <a href="https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-jpa-test">Auto-configured Data JPA</a> unit test.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@RunWith(SpringRunner.class)
@DataJpaTest
public class NotificationRepositoryTest {
    @Autowired
    private NotificationRepository repository;
</code></pre></div></div>

<p>At this point the test will fail because an embedded database cannot be found on the classpath. The next step is to use the @AutoConfigureTestDatabase annotation to configure the JUnit test to not replace the application database configuration.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@RunWith(SpringRunner.class)
@DataJpaTest
@AutoConfigureTestDatabase(replace = Replace.NONE)
public class NotificationRepositoryTest {
    @Autowired
    private NotificationRepository repository;
</code></pre></div></div>

<p>The tests will now be picking up your application database configuration which will likely be pointing to your local development environment. So next steps are to introduce the PostgresContainer from the TestContainers project.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@RunWith(SpringRunner.class)
@DataJpaTest
@AutoConfigureTestDatabase(replace = Replace.NONE)
public class NotificationRepositoryTest {
    @ClassRule
    public static PostgreSQLContainer&lt;?&gt; postgreSQLContainer = new PostgreSQLContainer&lt;&gt;("postgres:latest");
    @Autowired
    private NotificationRepository repository;
</code></pre></div></div>

<p>This configuration now loads up a Postgres container in Docker at the start of the test. This can be configured per test if required.</p>

<p>However, Spring Boot has not been configured to point to this running database yet. This requires a little more configuration of the JUnit test.</p>

<p>Adding a <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-configfileapplicationcontextinitializer-test-utility">ConfigFileApplicationContextInitializer</a> to the test will allow us to inject some new environment variables into the test context that will point the application code at the running docker environment.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@RunWith(SpringRunner.class)
@DataJpaTest
@AutoConfigureTestDatabase(replace = Replace.NONE)
@ContextConfiguration(initializers = { NotificationRepositoryTest.Initializer.class })
public class NotificationRepositoryTest {
    @ClassRule
    public static PostgreSQLContainer&lt;?&gt; postgreSQLContainer = new PostgreSQLContainer&lt;&gt;("postgres:latest");
    @Autowired
    private NotificationRepository repository;
...
    static class Initializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {
        @Override
        public void initialize(ConfigurableApplicationContext configurableApplicationContext) {
        TestPropertyValues.of(
            "spring.datasource.url=" + postgreSQLContainer.getJdbcUrl(),
            "spring.datasource.username=" + postgreSQLContainer.getUsername(),
            "spring.datasource.password=" + postgreSQLContainer.getPassword())
                .applyTo(configurableApplicationContext.getEnvironment());
            }
}
</code></pre></div></div>

<p>This code allows us to get a handle on the container configuration and override the spring boot properties, in doing so that test will now apply the flyway script to our containerised database and the jpa code is connected.</p>

<p>The console will show all the logs from the TestContainers code starting up the database container before executing the tests.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
2019-02-09 16:35:08.796  INFO 8016 --- [           main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:postgresql://localhost:32815/test (PostgreSQL 11.1)
...
2019-02-09 16:35:09.263  INFO 8016 --- [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema "public" (execution time 00:00.303s)
...
2019-02-09 16:35:13.806  INFO 8016 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2019-02-09 16:35:15.394  INFO 8016 --- [           main] c.r.t.r.NotificationRepositoryTest       : Started NotificationRepositoryTest in 11.925 seconds (JVM running for 27.482)
2
</code></pre></div></div>

<p>The full JUnit test is below:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">com</span><span class="p">.</span><span class="n">robintegg</span><span class="p">.</span><span class="n">testcontainersdemo</span><span class="p">.</span><span class="n">routing</span><span class="p">;</span>

<span class="n">import</span> <span class="n">static</span> <span class="n">org</span><span class="p">.</span><span class="n">hamcrest</span><span class="p">.</span><span class="n">CoreMatchers</span><span class="p">.</span><span class="n">is</span><span class="p">;</span>
<span class="n">import</span> <span class="n">static</span> <span class="n">org</span><span class="p">.</span><span class="n">hamcrest</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">IsEqual</span><span class="p">.</span><span class="n">equalTo</span><span class="p">;</span>
<span class="n">import</span> <span class="n">static</span> <span class="n">org</span><span class="p">.</span><span class="n">junit</span><span class="p">.</span><span class="n">Assert</span><span class="p">.</span><span class="n">assertThat</span><span class="p">;</span>

<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">junit</span><span class="p">.</span><span class="n">ClassRule</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">junit</span><span class="p">.</span><span class="n">Test</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">junit</span><span class="p">.</span><span class="n">runner</span><span class="p">.</span><span class="n">RunWith</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">springframework</span><span class="p">.</span><span class="n">beans</span><span class="p">.</span><span class="n">factory</span><span class="p">.</span><span class="n">annotation</span><span class="p">.</span><span class="n">Autowired</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">springframework</span><span class="p">.</span><span class="n">boot</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">autoconfigure</span><span class="p">.</span><span class="n">jdbc</span><span class="p">.</span><span class="n">AutoConfigureTestDatabase</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">springframework</span><span class="p">.</span><span class="n">boot</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">autoconfigure</span><span class="p">.</span><span class="n">jdbc</span><span class="p">.</span><span class="n">AutoConfigureTestDatabase</span><span class="p">.</span><span class="n">Replace</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">springframework</span><span class="p">.</span><span class="n">boot</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">autoconfigure</span><span class="p">.</span><span class="n">orm</span><span class="p">.</span><span class="n">jpa</span><span class="p">.</span><span class="n">DataJpaTest</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">springframework</span><span class="p">.</span><span class="n">boot</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">TestPropertyValues</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">springframework</span><span class="p">.</span><span class="n">context</span><span class="p">.</span><span class="n">ApplicationContextInitializer</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">springframework</span><span class="p">.</span><span class="n">context</span><span class="p">.</span><span class="n">ConfigurableApplicationContext</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">springframework</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">context</span><span class="p">.</span><span class="n">ContextConfiguration</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">springframework</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">context</span><span class="p">.</span><span class="n">junit4</span><span class="p">.</span><span class="n">SpringRunner</span><span class="p">;</span>
<span class="n">import</span> <span class="n">org</span><span class="p">.</span><span class="n">testcontainers</span><span class="p">.</span><span class="n">containers</span><span class="p">.</span><span class="n">PostgreSQLContainer</span><span class="p">;</span>

<span class="p">@</span><span class="n">RunWith</span><span class="p">(</span><span class="n">SpringRunner</span><span class="p">.</span><span class="n">class</span><span class="p">)</span>
<span class="p">@</span><span class="n">DataJpaTest</span>
<span class="p">@</span><span class="n">AutoConfigureTestDatabase</span><span class="p">(</span><span class="n">replace</span> <span class="p">=</span> <span class="n">Replace</span><span class="p">.</span><span class="n">NONE</span><span class="p">)</span>
<span class="p">@</span><span class="n">ContextConfiguration</span><span class="p">(</span><span class="n">initializers</span> <span class="p">=</span> <span class="p">{</span> <span class="n">NotificationRepositoryTest</span><span class="p">.</span><span class="n">Initializer</span><span class="p">.</span><span class="n">class</span> <span class="p">})</span>
<span class="k">public</span> <span class="n">class</span> <span class="n">NotificationRepositoryTest</span> <span class="p">{</span>

	<span class="p">@</span><span class="n">ClassRule</span>
	<span class="k">public</span> <span class="n">static</span> <span class="n">PostgreSQLContainer</span><span class="p">&lt;?&gt;</span> <span class="n">postgreSQLContainer</span> <span class="p">=</span> <span class="n">new</span> <span class="n">PostgreSQLContainer</span><span class="p">&lt;&gt;(</span><span class="s2">"postgres:latest"</span><span class="p">);</span>

	<span class="p">@</span><span class="n">Autowired</span>
	<span class="n">private</span> <span class="n">NotificationRepository</span> <span class="n">repository</span><span class="p">;</span>

	<span class="p">@</span><span class="n">Test</span>
	<span class="k">public</span> <span class="n">void</span> <span class="n">shouldStoreEachNotification</span><span class="p">()</span> <span class="p">{</span>

		<span class="p">//</span> <span class="n">given</span>
		<span class="n">repository</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">new</span> <span class="n">Notification</span><span class="p">(</span><span class="s2">"message1"</span><span class="p">,</span> <span class="s2">"test"</span><span class="p">));</span>
		<span class="n">repository</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">new</span> <span class="n">Notification</span><span class="p">(</span><span class="s2">"message2"</span><span class="p">,</span> <span class="s2">"test"</span><span class="p">));</span>

		<span class="p">//</span> <span class="n">when</span>
		<span class="n">long</span> <span class="k">count</span> <span class="p">=</span> <span class="n">repository</span><span class="p">.</span><span class="k">count</span><span class="p">();</span>

		<span class="p">//</span> <span class="k">then</span>
		<span class="n">assertThat</span><span class="p">(</span><span class="k">count</span><span class="p">,</span> <span class="n">is</span><span class="p">(</span><span class="m">2L</span><span class="p">));</span>

	<span class="p">}</span>

	<span class="p">@</span><span class="n">Test</span>
	<span class="k">public</span> <span class="n">void</span> <span class="n">shouldStoreEachNotificationWithAUniqueIdentifier</span><span class="p">()</span> <span class="p">{</span>

		<span class="p">//</span> <span class="n">given</span>
		<span class="n">Notification</span> <span class="n">n1</span> <span class="p">=</span> <span class="n">repository</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">new</span> <span class="n">Notification</span><span class="p">(</span><span class="s2">"message3"</span><span class="p">,</span> <span class="s2">"test"</span><span class="p">));</span>
		<span class="n">Notification</span> <span class="n">n2</span> <span class="p">=</span> <span class="n">repository</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">new</span> <span class="n">Notification</span><span class="p">(</span><span class="s2">"message4"</span><span class="p">,</span> <span class="s2">"test"</span><span class="p">));</span>

		<span class="p">//</span> <span class="n">when</span>
		<span class="n">Notification</span> <span class="n">persistedNotification1</span> <span class="p">=</span> <span class="n">repository</span><span class="p">.</span><span class="n">getOne</span><span class="p">(</span><span class="n">n1</span><span class="p">.</span><span class="nf">getId</span><span class="p">());</span>
		<span class="n">Notification</span> <span class="n">persistedNotification2</span> <span class="p">=</span> <span class="n">repository</span><span class="p">.</span><span class="n">getOne</span><span class="p">(</span><span class="n">n2</span><span class="p">.</span><span class="nf">getId</span><span class="p">());</span>

		<span class="p">//</span> <span class="k">then</span>
		<span class="n">assertThat</span><span class="p">(</span><span class="n">persistedNotification1</span><span class="p">,</span> <span class="n">equalTo</span><span class="p">(</span><span class="n">n1</span><span class="p">));</span>
		<span class="n">assertThat</span><span class="p">(</span><span class="n">persistedNotification2</span><span class="p">,</span> <span class="n">equalTo</span><span class="p">(</span><span class="n">n2</span><span class="p">));</span>

	<span class="p">}</span>

	<span class="n">static</span> <span class="n">class</span> <span class="n">Initializer</span> <span class="n">implements</span> <span class="n">ApplicationContextInitializer</span><span class="p">&lt;</span><span class="n">ConfigurableApplicationContext</span><span class="p">&gt;</span> <span class="p">{</span>

		<span class="p">@</span><span class="n">Override</span>
		<span class="k">public</span> <span class="n">void</span> <span class="n">initialize</span><span class="p">(</span><span class="n">ConfigurableApplicationContext</span> <span class="n">configurableApplicationContext</span><span class="p">)</span> <span class="p">{</span>

			<span class="n">TestPropertyValues</span>
					<span class="p">.</span><span class="k">of</span><span class="p">(</span><span class="s2">"spring.datasource.url="</span> <span class="p">+</span> <span class="n">postgreSQLContainer</span><span class="p">.</span><span class="n">getJdbcUrl</span><span class="p">(),</span>
							<span class="s2">"spring.datasource.username="</span> <span class="p">+</span> <span class="n">postgreSQLContainer</span><span class="p">.</span><span class="n">getUsername</span><span class="p">(),</span>
							<span class="s2">"spring.datasource.password="</span> <span class="p">+</span> <span class="n">postgreSQLContainer</span><span class="p">.</span><span class="n">getPassword</span><span class="p">())</span>
					<span class="p">.</span><span class="n">applyTo</span><span class="p">(</span><span class="n">configurableApplicationContext</span><span class="p">.</span><span class="n">getEnvironment</span><span class="p">());</span>

		<span class="p">}</span>

	<span class="p">}</span>

<span class="p">}</span>

</code></pre></div></div>

<p>So at the end of this post we have successfully created a JUnit test that executes the data access layer of the application against a Postgres database running in a Docker container</p>

<p>In the <a href="https://robintegg.com/2019/02/12/testing-spring-boot-applications-with-testcontainers-part-two/">second part</a>, we will move up a gear and look to use <a href="https://www.testcontainers.org/">TestContainers</a> to run a Spring Boot test that will run all our dependencies using Docker containers.</p>

  </div><a class="u-url" href="/robintegg/2019/02/09/testing-spring-boot-applications-with-testcontainers.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/robintegg/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Robin Tegg</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Robin Tegg</li><li><a class="u-email" href="mailto:robin@tegg.me.uk">robin@tegg.me.uk</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/teggr"><svg class="svg-icon"><use xlink:href="/robintegg/assets/minima-social-icons.svg#github"></use></svg> <span class="username">teggr</span></a></li><li><a href="https://www.twitter.com/robintegg"><svg class="svg-icon"><use xlink:href="/robintegg/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">robintegg</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A Java developer. Based in Leeds, England. Has interest in Software Architecture, Testing, Automation, Tooling and UI design. </p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
